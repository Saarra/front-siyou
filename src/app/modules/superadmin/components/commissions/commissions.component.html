<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"  >
<div class="jumbotron" style="margin-top: 60px;">
  <h2 > Commissions:</h2>
<hr style="margin-bottom: 40px;" >

  <div class="row w-100">
    
    <div class="col-md-3">
      <div class="card border-info mx-sm-1 p-3 shadow bg-white rounded">
        <div class="card border-info shadow text-info p-3 my-card"><span class="fa fa-eye" aria-hidden="true"></span>
        </div>
        <div class="text-info text-center mt-3">
          <h4>Commissions Number</h4>
        </div>
        <div class="text-info text-center mt-2">
          <h1> {{num_com}}</h1>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card border-success mx-sm-1 p-3 shadow bg-white rounded">
        <div class="card border-success shadow text-success p-3 my-card"><span class="fa fa-eye"
            aria-hidden="true"></span></div>
        <div class="text-success text-center mt-3">
          <h4>Total of all Commissions</h4>
        </div>
        <div class="text-success text-center mt-2">
          <h1>${{sum_com}}</h1>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card border-danger mx-sm-1 p-3 shadow bg-white rounded">
        <div class="card border-danger shadow text-danger p-3 my-card"><span class="fa fa-heart"
            aria-hidden="true"></span></div>
        <div class="text-danger text-center mt-3">
          <h4>Total of all Deposit</h4>
        </div>
        <div class="text-danger text-center mt-2">
          <h1>${{sum_deposit}}</h1>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card border-warning mx-sm-1 p-3 shadow bg-white rounded">
        <div class="card border-warning shadow text-warning p-3 my-card"><span class="fa fa-inbox"
            aria-hidden="true"></span></div>
        <div class="text-warning text-center mt-3">
          <h4>Total of all Deposit Rest</h4>
        </div>
        <div class="text-warning text-center mt-2">
          <h1>${{sum_deposit_rest}}</h1>
        </div>
      </div>
    </div>
  </div>
</div>



<div class="mx-4">
  <div class="mat-elevation-z8" style="margin-bottom: 70px;">
    <h5 class="mx-2 my-2" style="padding-top: 10px;">List of Commissions:</h5>
    <table mat-table [dataSource]="dataSource" matSort>

      <mat-form-field>
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
      </mat-form-field>

      <!-- Position Column -->
      <ng-container matColumnDef="commission_date">
        <th mat-header-cell *matHeaderCellDef> Commission Date </th>
        <td mat-cell *matCellDef="let commission"> {{commission.created_at}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="commission_amount">
        <th mat-header-cell *matHeaderCellDef>Commission Amount </th>
        <td mat-cell *matCellDef="let commission" style="color:red ; font-weight: bold;">  ${{commission.commission_amount}} </td>
      </ng-container>

      <!-- Weight Column -->
      <ng-container matColumnDef="commission_percent">
        <th mat-header-cell *matHeaderCellDef> Commission Percent </th>
        <td mat-cell *matCellDef="let commission" style="color: black; font-weight: bold;"> {{commission.commission_percent}}% </td>
      </ng-container>
       

      <ng-container matColumnDef="first_name">
        <th mat-header-cell *matHeaderCellDef> First Name </th>
        <td mat-cell *matCellDef="let commission"> {{commission.user.first_name}} </td>
      </ng-container>
      <ng-container matColumnDef="last_name">
        <th mat-header-cell *matHeaderCellDef> Last Name </th>
        <td mat-cell *matCellDef="let commission"> {{commission.user.last_name}} </td>
      </ng-container>



      <!-- Symbol Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> Email </th>
        <td mat-cell *matCellDef="let commission"> {{commission.user.email}} </td>
      </ng-container>

      <ng-container matColumnDef="Deposit">
        <th mat-header-cell *matHeaderCellDef> Deposit </th>
        <!-- <td mat-cell *matCellDef="let commission">{{ commission.order ? commission.order.order_date : ''}} </td> -->
        <td mat-cell *matCellDef="let commission" style="color: red; font-weight: bold;">${{ commission.Deposit ? commission.Deposit : ''}} </td>
      </ng-container>
      <ng-container matColumnDef="Deposit_rest">
        <th mat-header-cell *matHeaderCellDef> Deposit Rest </th>
        <td mat-cell *matCellDef="let commission" style="color: black; font-weight: bold;">
          ${{ commission.Deposit ? commission.Deposit_rest : ''}}</td>
      </ng-container>
      
     



      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  </div>
</div>

<!-- Copyright 2019 Google LLC. All Rights Reserved.
        Use of this source code is governed by an MIT-style license that
        can be found in the LICENSE file at http://angular.io/license -->